<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        form {
            display: flex;
            flex-direction: column;
        }
    </style>
    <title>Un formulaire de connexion en AJAX</title>
</head>

<body>

    <h1>Un formulaire de connexion en AJAX</h1>

    <form>
        <p> Nom d'utilisateur : <input type="text" id="username" /></p>
        <p>Mot de passe : <input type="password" id="password" /></p>
        <p> <input type="submit" id="submit" value="Se connecter !" /></p>
    </form>

    <!-- implant JQuery/Ajax -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

    <!-- Faciliter le tuto en passant l'ensemble du script Ajax sur Html ! -->
    <!-- Pour une meilleure efficacité : 1 fichier = 1 appel AJAX !!! -->
    <script>

        $(document).ready(function () {

            $("#submit").click(function{

                $.post(
                    'connexion.php', // Un script PHP que l'on va créer juste après
                    {
                        username: $("#username").val(),  // Nous récupérons la valeur de nos inputs que l'on fait passer à connexion.php
                        password: $("#password").val()
                    },

                    function (data) { // Cette fonction ne fait rien encore, nous la mettrons à jour plus tard
                    },

                    'text' // Nous souhaitons recevoir "Success" ou "Failed", donc on indique text !
                );

            });

        });

        <? php

        /**
         * Nous créons deux variables : $username et $password qui valent respectivement "Sdz" et "salut"
        */
 
        $username = "Sdz";
        $password = "salut";

        if (isset($_POST['username']) && isset($_POST['password'])) {

            if ($_POST['username'] == $username && $_POST['password'] == $password) { // Si les infos correspondent...
                session_start();
                $_SESSION['user'] = $username;
                echo "Success";
            }
            else { // Sinon
                echo "Failed";
            }
        }
?>


    </script>
    <!-- Fin du scrip Ajax1 -->

</body>

</html>